{% extends 'layouts/default/page.html' %}

{% load i18n %}
{% load static %}

{% block css %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/core/main.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/daygrid/main.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/list/main.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/timegrid/main.min.css" rel="stylesheet">
    <!-- <script src='https://unpkg.com/tooltip.js/dist/umd/tooltip.min.js'></script>  -->


{% endblock %} -->

{% block content %}
    <section class="content-header margin-bottom">
        <ol class="breadcrumb">
            <li><a href="">My Events</a></li>
            <li><a href="#">All Events</a></li>
          
            {% for i in past_event_list %}
            <p> 
                {{ i.date|date:"Y-m-d"}}
            </p>
                       
            {% endfor %}

        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="box box-primary">
            <div class="box-body no-padding">
                <!-- THE CALENDAR -->
                <div id="calendar">
                </div>
            </div>
            <!-- /.box-body -->
        </div>
    </section>

    <!-- /.content -->

{% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/core/main.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/daygrid/main.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/list/main.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/4.2.0/timegrid/main.min.js"></script> 

    
    <script>

        document.addEventListener('DOMContentLoaded', function() {
          var calendarEl = document.getElementById('calendar');
  
          var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: [ 'interaction', 'dayGrid', 'timeGrid' ],

            defaultView: 'dayGridMonth',
            header: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },

            timeZone: "local",
            nowIndicator: true,

            events: [
       
                    {% for i in event_list %}
                        {
                            title: '{{ i.title }}',
                            start: '{{ i.date|date:"Y-m-d" }}',
                            // end: '{{ i.date|date:"Y-m-d" }}',
                            // start: '{{ i.date|date:"Y-m-d"  }}'+'{{i.start_time}}',
                            // end: '{{ i.end_time }}',
                            // location: "{{ i.event_location }}",

                        },
                    {% endfor %}

                    {% for p in past_event_list %}
                        {
                            title: '{{ p.title }}',
                            start: '{{ p.date|date:"Y-m-d" }}',
                            // end: '{{ i.date|date:"Y-m-d" }}',
                            // start: '{{ i.date|date:"Y-m-d"  }}'+'{{i.start_time}}',
                            // end: '{{ i.end_time }}',
                            // location: "{{ i.event_location }}",
                            color: 'purple'
                        },
                    {% endfor %}

            
                // {% for i in event_list %}
                //     {
                //         title: '{{ i.title }}',
                //         start: '{{ i.date|date:"Y-m-d" }}'+'T'+'{{ i.start_time|date:"H:i:s"}}',   // ISO8061 format
                //         end: '{{ i.date|date:"Y-m-d" }}'+'T'+'{{ i.end_time|date:"H:i:s"}}',

            
                //         // description: '{{ i.summary }}',
                //         // location: "{{ i.event_location }}",
                //     },
                // {% endfor %}

                
            ],
            
            // DIRECT TO THE CREATE EVENT PAGE
            // customButtons: {
            //     AddEvent: {
            //         text: 'Create An Event',
            //         click: function (){
            //             // window.location.href='{% url 'event:create_event' %}'ï¼›
            //             // <a> href={% url 'event:create_event' %} </a>
            //         }
            //     },

            // },
            
            // SHOW EVENT SUMMARY
            // eventRender: function(info) {
            //     var tooltip = new Tooltip(info.el, {
            //         title: info.event.extendedProps.description,
            //         placement: 'top',
            //         trigger: 'hover',
            //         container: 'body'
            //     });
            // },

            
            // events: [
            // {
            //     title: 'All Day Event',
            //     start: '2020-06-01'
            // },
            // {
            //     title: 'Long Event',
            //     start: '2020-06-07',
            //     end: '2020-06-10'
            // },
            // {
            //     groupId: '999',
            //     title: 'Repeating Event',
            //     start: '2020-06-09T16:00:00'
            // },
           
            // {
            //     title: 'Conference',
            //     start: '2020-06-11',
            //     end: '2020-06-13'
            // },
            // {
            //     title: 'Meeting',
            //     start: '2020-05-12T10:30:00',
            //     end: '2020-05-12T12:30:00'
            // },
            // {
            //     title: 'Lunch',
            //     start: '2020-05-12T12:00:00'
            // },
            // {
            //     title: 'Click for Google',
            //     url: 'http://google.com/',
            //     start: '2020-05-28'
            // }
            // ]

            
          });
  
          calendar.render();
        });
  
    </script>

{% endblock %}
